From d1462db82ea6dafee0c6cfe0081a2c5d89487ff6 Mon Sep 17 00:00:00 2001
From: Zhigang Gong <zhigang.gong@intel.com>
Date: Mon, 3 Nov 2014 09:06:46 +0800
Subject: [PATCH 3/3] GBE: fix one compilation warning.

Signed-off-by: Zhigang Gong <zhigang.gong@intel.com>
---
 backend/src/llvm/llvm_gen_backend.cpp | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/backend/src/llvm/llvm_gen_backend.cpp b/backend/src/llvm/llvm_gen_backend.cpp
index 6cb3834..d5e5341 100644
--- a/backend/src/llvm/llvm_gen_backend.cpp
+++ b/backend/src/llvm/llvm_gen_backend.cpp
@@ -1103,8 +1103,10 @@ namespace gbe
       ctx.ADD(ir::Type::TYPE_S32, reg, pointer_reg, offset_reg);
       return reg;
     }
-    else
-      assert(0);
+    else {
+      GBE_ASSERT(0 && "Unsupported constant expression");
+      return regTranslator.getScalar(val, elemID);
+    }
   }
 
   ir::Register GenWriter::getConstantRegister(Constant *c, uint32_t elemID) {
-- 
2.1.1

